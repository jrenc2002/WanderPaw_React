:root {
  --city-card-w: min(280px, 85vw);
  --city-card-h: min(380px, 65vh);
  --outline-w: 6px;
  --preview-bg: #fff;
  --shadow-color: rgba(251, 191, 36, 0.3);
  --selected-shadow: rgba(34, 197, 94, 0.4);
  --hover-shadow: rgba(245, 158, 11, 0.5);
}

.city-cards-carousel {
  position: relative;
  height: min(500px, 70vh);
  width: 100%;
  max-width: min(1200px, 95vw);
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: clamp(800px, 100vw, 1200px);
  overflow: visible;
  padding: 0 clamp(10px, 5vw, 50px);
}

.city-card {
  position: absolute;
  width: var(--city-card-w);
  height: var(--city-card-h);
  border-radius: clamp(12px, 2vw, 16px);
  box-shadow: 0 4px 20px var(--shadow-color);
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor: pointer;
  will-change: transform, opacity, z-index;
  backface-visibility: hidden;
}

/* 圆弧轮播样式 - 中心位置 */
.arc-card[data-position="0"] {
  transform: translateX(0) translateY(0) scale(1) rotateY(0deg);
  opacity: 1;
  z-index: 10;
  box-shadow: 0 12px 50px var(--selected-shadow);
}

/* 圆弧轮播样式 - 右侧第一张 */
.arc-card[data-position="1"] {
  transform: translateX(clamp(120px, 20vw, 180px)) translateY(clamp(-30px, -5vh, -40px)) scale(0.8) rotateY(-25deg) rotateZ(10deg);
  opacity: 0.6;
  z-index: 8;
}

/* 圆弧轮播样式 - 右侧第二张 */
.arc-card[data-position="2"] {
  transform: translateX(clamp(200px, 35vw, 320px)) translateY(clamp(-60px, -10vh, -80px)) scale(0.65) rotateY(-40deg) rotateZ(20deg);
  opacity: 0.4;
  z-index: 6;
}

/* 圆弧轮播样式 - 左侧第一张 */
.arc-card[data-position="-1"] {
  transform: translateX(clamp(-180px, -20vw, -120px)) translateY(clamp(-30px, -5vh, -40px)) scale(0.8) rotateY(25deg) rotateZ(-10deg);
  opacity: 0.6;
  z-index: 8;
}

/* 圆弧轮播样式 - 左侧第二张 */
.arc-card[data-position="-2"] {
  transform: translateX(clamp(-320px, -35vw, -200px)) translateY(clamp(-60px, -10vh, -80px)) scale(0.65) rotateY(40deg) rotateZ(-20deg);
  opacity: 0.4;
  z-index: 6;
}

/* 保留原有的直线轮播样式（向后兼容） */
.city-card:not(.arc-card)[data-position="0"] {
  transform: translateX(0) scale(1) rotateY(0deg);
  opacity: 1;
  z-index: 10;
  box-shadow: 0 12px 50px var(--selected-shadow);
}

.city-card:not(.arc-card)[data-position="1"] {
  transform: translateX(clamp(150px, 25vw, 200px)) scale(0.85) rotateY(-15deg);
  opacity: 0.7;
  z-index: 8;
}

.city-card:not(.arc-card)[data-position="2"] {
  transform: translateX(clamp(250px, 40vw, 350px)) scale(0.7) rotateY(-25deg);
  opacity: 0.5;
  z-index: 6;
}

.city-card:not(.arc-card)[data-position="3"],
.city-card:not(.arc-card)[data-position="4"],
.city-card:not(.arc-card)[data-position="5"] {
  transform: translateX(clamp(350px, 50vw, 450px)) scale(0.6) rotateY(-35deg);
  opacity: 0.3;
  z-index: 4;
}

.city-card:not(.arc-card)[data-position="-1"] {
  transform: translateX(clamp(-200px, -25vw, -150px)) scale(0.85) rotateY(15deg);
  opacity: 0.7;
  z-index: 8;
}

.city-card:not(.arc-card)[data-position="-2"] {
  transform: translateX(clamp(-350px, -40vw, -250px)) scale(0.7) rotateY(25deg);
  opacity: 0.5;
  z-index: 6;
}

.city-card:not(.arc-card)[data-position="-3"],
.city-card:not(.arc-card)[data-position="-4"],
.city-card:not(.arc-card)[data-position="-5"] {
  transform: translateX(clamp(-450px, -50vw, -350px)) scale(0.6) rotateY(35deg);
  opacity: 0.3;
  z-index: 4;
}

/* 圆弧卡片的hover效果 */
.arc-card:hover:not([data-position="0"]) {
  opacity: 0.8;
}

.arc-card[data-position="1"]:hover {
  transform: translateX(clamp(120px, 20vw, 180px)) translateY(clamp(-30px, -5vh, -40px)) scale(0.85) rotateY(-25deg) rotateZ(10deg);
}

.arc-card[data-position="2"]:hover {
  transform: translateX(clamp(200px, 35vw, 320px)) translateY(clamp(-60px, -10vh, -80px)) scale(0.7) rotateY(-40deg) rotateZ(20deg);
}

.arc-card[data-position="-1"]:hover {
  transform: translateX(clamp(-180px, -20vw, -120px)) translateY(clamp(-30px, -5vh, -40px)) scale(0.85) rotateY(25deg) rotateZ(-10deg);
}

.arc-card[data-position="-2"]:hover {
  transform: translateX(clamp(-320px, -35vw, -200px)) translateY(clamp(-60px, -10vh, -80px)) scale(0.7) rotateY(40deg) rotateZ(-20deg);
}

/* 保留原有直线轮播的hover效果 */
.city-card:not(.arc-card):hover:not([data-position="0"]) {
  opacity: 0.9;
  transform: translateX(var(--hover-x, 0)) scale(var(--hover-scale, 0.9)) rotateY(var(--hover-rotation, 0deg));
}

.city-card-content {
  position: relative;
  z-index: 2;
  height: 100%;
  padding: clamp(1rem, 3vw, 1.5rem);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  border-radius: clamp(12px, 2vw, 16px);
  transition: all 0.3s ease;
  overflow: hidden;
}

.city-card[data-position="0"] .selected-indicator {
  animation: bounceIn 0.6s ease-out;
}

@keyframes bounceIn {
  0% {
    transform: scale(0) rotate(-180deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) rotate(-90deg);
    opacity: 0.8;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* 导航按钮样式 */
.carousel-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 20;
  background: rgba(251, 191, 36, 0.9);
  border: none;
  border-radius: 50%;
  width: clamp(40px, 8vw, 50px);
  height: clamp(40px, 8vw, 50px);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.carousel-nav-btn:hover {
  background: rgba(245, 158, 11, 0.9);
  transform: translateY(-50%) scale(1.1);
}

.carousel-nav-btn.prev {
  left: clamp(-60px, -10vw, -80px);
}

.carousel-nav-btn.next {
  right: clamp(-60px, -10vw, -80px);
}

/* 中等屏幕 (平板) */
@media (max-width: 1024px) {
  :root {
    --city-card-w: min(260px, 80vw);
    --city-card-h: min(360px, 60vh);
  }

  .city-cards-carousel {
    height: min(450px, 65vh);
    perspective: clamp(600px, 80vw, 1000px);
  }
}

/* 小屏幕 (手机横屏) */
@media (max-width: 768px) {
  :root {
    --city-card-w: min(240px, 75vw);
    --city-card-h: min(340px, 55vh);
  }

  .city-cards-carousel {
    height: min(420px, 60vh);
    max-width: 100vw;
    overflow: visible;
    perspective: clamp(500px, 70vw, 800px);
  }

  /* 移动端圆弧轮播样式 */
  .arc-card[data-position="1"] {
    transform: translateX(clamp(100px, 18vw, 130px)) translateY(clamp(-25px, -4vh, -30px)) scale(0.75) rotateY(-20deg) rotateZ(8deg);
    opacity: 0.6;
  }

  .arc-card[data-position="2"] {
    transform: translateX(clamp(180px, 32vw, 220px)) translateY(clamp(-45px, -8vh, -55px)) scale(0.6) rotateY(-30deg) rotateZ(15deg);
    opacity: 0.4;
  }

  .arc-card[data-position="-1"] {
    transform: translateX(clamp(-130px, -18vw, -100px)) translateY(clamp(-25px, -4vh, -30px)) scale(0.75) rotateY(20deg) rotateZ(-8deg);
    opacity: 0.6;
  }

  .arc-card[data-position="-2"] {
    transform: translateX(clamp(-220px, -32vw, -180px)) translateY(clamp(-45px, -8vh, -55px)) scale(0.6) rotateY(30deg) rotateZ(-15deg);
    opacity: 0.4;
  }

  /* 移动端圆弧hover效果 */
  .arc-card[data-position="1"]:hover {
    transform: translateX(clamp(100px, 18vw, 130px)) translateY(clamp(-25px, -4vh, -30px)) scale(0.8) rotateY(-20deg) rotateZ(8deg);
    opacity: 0.8;
  }

  .arc-card[data-position="2"]:hover {
    transform: translateX(clamp(180px, 32vw, 220px)) translateY(clamp(-45px, -8vh, -55px)) scale(0.65) rotateY(-30deg) rotateZ(15deg);
    opacity: 0.6;
  }

  .arc-card[data-position="-1"]:hover {
    transform: translateX(clamp(-130px, -18vw, -100px)) translateY(clamp(-25px, -4vh, -30px)) scale(0.8) rotateY(20deg) rotateZ(-8deg);
    opacity: 0.8;
  }

  .arc-card[data-position="-2"]:hover {
    transform: translateX(clamp(-220px, -32vw, -180px)) translateY(clamp(-45px, -8vh, -55px)) scale(0.65) rotateY(30deg) rotateZ(-15deg);
    opacity: 0.6;
  }

  /* 保留原有直线轮播的移动端样式 */
  .city-card:not(.arc-card)[data-position="1"] {
    transform: translateX(clamp(120px, 22vw, 150px)) scale(0.8) rotateY(-15deg);
  }

  .city-card:not(.arc-card)[data-position="2"] {
    transform: translateX(clamp(200px, 35vw, 250px)) scale(0.65) rotateY(-25deg);
  }

  .city-card:not(.arc-card)[data-position="3"],
  .city-card:not(.arc-card)[data-position="4"],
  .city-card:not(.arc-card)[data-position="5"] {
    transform: translateX(clamp(260px, 45vw, 320px)) scale(0.5) rotateY(-35deg);
  }

  .city-card:not(.arc-card)[data-position="-1"] {
    transform: translateX(clamp(-150px, -22vw, -120px)) scale(0.8) rotateY(15deg);
  }

  .city-card:not(.arc-card)[data-position="-2"] {
    transform: translateX(clamp(-250px, -35vw, -200px)) scale(0.65) rotateY(25deg);
  }

  .city-card:not(.arc-card)[data-position="-3"],
  .city-card:not(.arc-card)[data-position="-4"],
  .city-card:not(.arc-card)[data-position="-5"] {
    transform: translateX(clamp(-320px, -45vw, -260px)) scale(0.5) rotateY(35deg);
  }

  .carousel-nav-btn.prev {
    left: clamp(5px, 2vw, 10px);
  }

  .carousel-nav-btn.next {
    right: clamp(5px, 2vw, 10px);
  }
}

/* 超小屏幕 (手机竖屏) */
@media (max-width: 480px) {
  :root {
    --city-card-w: min(200px, 85vw);
    --city-card-h: min(280px, 50vh);
  }

  .city-cards-carousel {
    height: min(350px, 55vh);
    perspective: clamp(400px, 60vw, 600px);
    padding: 0 clamp(5px, 2vw, 15px);
  }

  /* 超小屏幕圆弧轮播样式 */
  .arc-card[data-position="1"] {
    transform: translateX(clamp(80px, 15vw, 100px)) translateY(clamp(-20px, -3vh, -25px)) scale(0.7) rotateY(-15deg) rotateZ(5deg);
    opacity: 0.6;
  }

  .arc-card[data-position="2"] {
    transform: translateX(clamp(140px, 25vw, 170px)) translateY(clamp(-35px, -6vh, -45px)) scale(0.55) rotateY(-25deg) rotateZ(10deg);
    opacity: 0.4;
  }

  .arc-card[data-position="-1"] {
    transform: translateX(clamp(-100px, -15vw, -80px)) translateY(clamp(-20px, -3vh, -25px)) scale(0.7) rotateY(15deg) rotateZ(-5deg);
    opacity: 0.6;
  }

  .arc-card[data-position="-2"] {
    transform: translateX(clamp(-170px, -25vw, -140px)) translateY(clamp(-35px, -6vh, -45px)) scale(0.55) rotateY(25deg) rotateZ(-10deg);
    opacity: 0.4;
  }
} 