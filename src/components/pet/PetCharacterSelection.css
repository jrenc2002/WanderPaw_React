:root {
	--mobile--w: 340px;
	--mobile--h: 480px;
	--outline-w: 6px;
	--preview-bg: #fff;
	--shadow-color: rgba(251, 191, 36, 0.3);
	--selected-shadow: rgba(34, 197, 94, 0.4);
	--hover-shadow: rgba(245, 158, 11, 0.5);
}

/* 移除了不必要的容器样式 */

.character-cards-grid {
	display: flex;
	flex-wrap: wrap;
	place-items: center;
	place-content: center;
	gap: 2rem;
	min-height: 60vh;

	/* fade out other cards when one is :hover/:focus-within */
	&:has(:hover, :focus-within) {
		.character-card:not(:hover, :focus) {
			opacity: 0.4;
		}
	}
}

.character-card {
	--rotation: -3deg;
	
	background-clip: padding-box;
	border: var(--outline-w) solid transparent;
	border-radius: 12px;
	box-shadow: 0 4px 20px var(--shadow-color);

	/* 优化后的过渡动画 - 只使用transform和box-shadow */
	transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
	
	/* 简化的初始状态 */
	opacity: 0.8;
	transform: scale(0.9) rotate(var(--rotation)) translateZ(0);
	
	/* 硬件加速 */
	will-change: transform, box-shadow, opacity;
	backface-visibility: hidden;

	min-height: var(--mobile--h);
	height: 100%;
	min-width: var(--mobile--w);
	width: 100%;
	max-width: var(--mobile--w);
	max-height: var(--mobile--h);

	position: relative;
	cursor: pointer;

	&:hover {
		opacity: 1;
		transform: scale(1) rotate(0deg) translateZ(0);
		box-shadow: 0 8px 40px var(--hover-shadow);
		z-index: 6;
	}

	&:focus-within {
		opacity: 1;
		transform: scale(1) rotate(0deg) translateZ(0);
		box-shadow: 0 8px 40px var(--hover-shadow);
		z-index: 5;
	}

	&.selected {
		opacity: 1;
		transform: scale(1) rotate(0deg) translateZ(0);
		box-shadow: 0 12px 50px var(--selected-shadow);
		border-color: rgba(34, 197, 94, 0.3);
		z-index: 10;
	}

	&:nth-of-type(1) { --rotation: -3deg; }
	&:nth-of-type(2) { --rotation: 2deg; }
	&:nth-of-type(3) { --rotation: -1deg; }
	&:nth-of-type(4) { --rotation: 4deg; }
	&:nth-of-type(5) { --rotation: -2deg; }
	&:nth-of-type(6) { --rotation: 1deg; }
	&:nth-of-type(7) { --rotation: 3deg; }
}

/* 卡片内容样式 */
.character-card-content {
	position: relative;
	z-index: 2;
	height: 100%;
	padding: 1.5rem;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	background: rgba(255, 255, 255, 0.95);
	border-radius: 12px;
	transition: background-color 0.3s ease;
}

.character-card:hover .character-card-content,
.character-card:focus-within .character-card-content,
.character-card.selected .character-card-content {
	background: rgba(255, 255, 255, 0.98);
}

/* 优化完成 - 移除了不必要的样式 */ 